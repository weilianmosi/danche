{"ast":null,"code":"import \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/card/style\";\nimport _Card from \"antd/lib/card\";\nimport \"antd/lib/table/style\";\nimport _Table from \"antd/lib/table\";\nimport \"antd/lib/message/style\";\nimport _message from \"antd/lib/message\";\nimport \"antd/lib/modal/style\";\nimport _Modal from \"antd/lib/modal\";\nvar _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\\\u5355\\u8F66\\u540E\\u53F0\\u7BA1\\u7406\\u7CFB\\u7EDF\\u5F00\\u53D1\\\\imoocmanager\\\\src\\\\pages\\\\table\\\\basictable.js\";\nimport React from 'react';\nimport Axios from './../../axios/index.js';\nimport Utils from './../../utils/utils.js';\nexport default class BasicTable extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      dataSource2: []\n    };\n    this.params = {\n      page: 1\n    };\n\n    this.request = () => {\n      let _this = this;\n\n      Axios.ajax({\n        url: '/table/list',\n        data: {\n          params: {\n            page: this.params.page\n          }\n        }\n      }).then(res => {\n        if (res.code == 0) {\n          this.setState({\n            dataSource2: res.result.list.map((item, index) => {\n              item.key = index;\n              return item;\n            }),\n            selectedRowKeys: [],\n            selectedRows: null,\n            pagination: Utils.pagination(res, current => {\n              _this.params.page = current;\n              this.request();\n            })\n          });\n        }\n      });\n    };\n\n    this.onRowClick = (record, index) => {\n      let selectKey = [index];\n\n      _Modal.info({\n        title: '信息',\n        content: \"\\u7528\\u6237\\u540D: \".concat(record.userName, \" \\u6027\\u522B: \").concat(record.sex)\n      });\n\n      this.setState({\n        selectedRowKeys: selectKey,\n        selectedItem: record\n      });\n    };\n\n    this.handleDelete = () => {\n      let rows = this.state.selectedRows;\n      let ids = [];\n      rows.forEach(item => {\n        ids.push(item.id);\n      });\n\n      _Modal.confirm({\n        title: '删除提示',\n        content: '确定删除吗？',\n        onOk: () => {\n          _message.success('删除成功');\n\n          this.request();\n        }\n      });\n    };\n  }\n\n  componentDidMount() {\n    const dataSource = [{\n      id: '0',\n      userName: 'Jack',\n      sex: '1',\n      state: '1',\n      interest: '1',\n      birthday: '2000-01-01',\n      address: '北京市南山南',\n      time: '09:00'\n    }, {\n      id: '1',\n      userName: 'Tom',\n      sex: '1',\n      state: '1',\n      interest: '1',\n      birthday: '2000-01-01',\n      address: '北京市南山南',\n      time: '09:00'\n    }, {\n      id: '2',\n      userName: 'Bob',\n      sex: '1',\n      state: '1',\n      interest: '1',\n      birthday: '2000-01-01',\n      address: '北京市南山南',\n      time: '09:00'\n    }];\n    this.setState({\n      dataSource: dataSource.map((item, index) => {\n        item.key = index;\n        return item;\n      })\n    });\n    this.request();\n  }\n\n  render() {\n    const columns = [{\n      title: 'id',\n      dataIndex: 'id'\n    }, {\n      title: '用户名',\n      dataIndex: 'userName'\n    }, {\n      title: '性别',\n      dataIndex: 'sex',\n\n      render(sex) {\n        return sex === 1 ? '男' : '女';\n      }\n\n    }, {\n      title: '状态',\n      dataIndex: 'state',\n\n      render(state) {\n        let config = {\n          \"1\": '初中',\n          \"2\": '高中',\n          \"3\": '大学',\n          \"4\": '硕士',\n          \"5\": '博士'\n        };\n        return config[state];\n      }\n\n    }, {\n      title: '爱好',\n      dataIndex: 'interest',\n\n      render(interest) {\n        let config = {\n          \"1\": '爬山',\n          \"2\": '篮球',\n          \"3\": '足球',\n          \"4\": '排球',\n          \"5\": '游泳',\n          \"6\": '旅行',\n          \"7\": '唱歌',\n          \"8\": '看书'\n        };\n        return config[interest];\n      }\n\n    }, {\n      title: '生日',\n      dataIndex: 'birthday'\n    }, {\n      title: '地址',\n      dataIndex: 'address'\n    }, {\n      title: '早起时间',\n      dataIndex: 'time'\n    }];\n    const selectedRowKeys = this.state.selectedRowKeys;\n    const rowSelection = {\n      type: 'radio',\n      selectedRowKeys\n    };\n    const rowCheckSelection = {\n      type: 'checkbox',\n      selectedRowKeys,\n      onChange: (selectedRowKeys, selectedRows) => {\n        this.setState({\n          selectedRowKeys,\n          selectedRows\n        });\n      }\n    };\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, React.createElement(_Card, {\n      title: \"\\u57FA\\u7840\\u8868\\u683C\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, React.createElement(_Table, {\n      bordered: true,\n      columns: columns,\n      dataSource: this.state.dataSource,\n      pagination: false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    })), React.createElement(_Card, {\n      title: \"\\u52A8\\u6001\\u6570\\u636E\\u6E32\\u67D3\\u8868\\u683C-Mock\",\n      style: {\n        margin: '10px 0'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, React.createElement(_Table, {\n      bordered: true,\n      columns: columns,\n      dataSource: this.state.dataSource2,\n      pagination: false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    })), React.createElement(_Card, {\n      title: \"Mock-\\u5355\\u9009\",\n      style: {\n        margin: '10px 0'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, React.createElement(_Table, {\n      bordered: true,\n      rowSelection: rowSelection,\n      onRow: (record, index) => {\n        return {\n          onClick: event => {\n            this.onRowClick(record, index);\n          } // 点击行\n\n        };\n      },\n      columns: columns,\n      dataSource: this.state.dataSource2,\n      pagination: false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    })), React.createElement(_Card, {\n      title: \"Mock-\\u590D\\u9009\",\n      style: {\n        margin: '10px 0'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        marginBottom: 10\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, React.createElement(_Button, {\n      onClick: this.handleDelete,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, \"\\u5220\\u9664\")), React.createElement(_Table, {\n      bordered: true,\n      rowSelection: rowCheckSelection,\n      onRow: (record, index) => {\n        return {\n          onClick: event => {\n            this.onRowClick(record, index);\n          } // 点击行\n\n        };\n      },\n      columns: columns,\n      dataSource: this.state.dataSource2,\n      pagination: false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    })), React.createElement(_Card, {\n      title: \"Mock-\\u8868\\u683C\\u5206\\u9875\",\n      style: {\n        margin: '10px 0'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, React.createElement(_Table, {\n      bordered: true,\n      columns: columns,\n      dataSource: this.state.dataSource2,\n      pagination: this.state.pagination,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["C:\\Users\\Administrator\\Desktop\\单车后台管理系统开发\\imoocmanager\\src\\pages\\table\\basictable.js"],"names":["React","Axios","Utils","BasicTable","Component","state","dataSource2","params","page","request","_this","ajax","url","data","then","res","code","setState","result","list","map","item","index","key","selectedRowKeys","selectedRows","pagination","current","onRowClick","record","selectKey","info","title","content","userName","sex","selectedItem","handleDelete","rows","ids","forEach","push","id","confirm","onOk","success","componentDidMount","dataSource","interest","birthday","address","time","render","columns","dataIndex","config","rowSelection","type","rowCheckSelection","onChange","margin","onClick","event","marginBottom"],"mappings":"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","sourcesContent":["import React from 'react' \r\nimport {Card, Table, Modal, Button, message} from 'antd'\r\nimport Axios from './../../axios/index.js'\r\nimport Utils from './../../utils/utils.js';\r\n\r\nexport default class BasicTable extends React.Component {\r\n  state = {\r\n    dataSource2: []\r\n  }\r\n  params = {\r\n    page:1\r\n  }\r\n  componentDidMount() {\r\n    const dataSource = [\r\n      {\r\n        id:'0',\r\n        userName:'Jack',\r\n        sex:'1',\r\n        state:'1',\r\n        interest:'1',\r\n        birthday:'2000-01-01',\r\n        address:'北京市南山南',\r\n        time:'09:00',\r\n      },\r\n      {\r\n        id:'1',\r\n        userName:'Tom',\r\n        sex:'1',\r\n        state:'1',\r\n        interest:'1',\r\n        birthday:'2000-01-01',\r\n        address:'北京市南山南',\r\n        time:'09:00',\r\n      },\r\n      {\r\n        id:'2',\r\n        userName:'Bob',\r\n        sex:'1',\r\n        state:'1',\r\n        interest:'1',\r\n        birthday:'2000-01-01',\r\n        address:'北京市南山南',\r\n        time:'09:00',\r\n      }\r\n    ]\r\n\r\n    this.setState({\r\n      dataSource: dataSource.map((item,index) => {\r\n        item.key = index\r\n        return item\r\n      })\r\n    })\r\n    this.request()\r\n  }\r\n  request = () => {\r\n    let _this = this\r\n    Axios.ajax({\r\n      url:'/table/list',\r\n      data: {\r\n        params: {\r\n          page:this.params.page\r\n        },\r\n        \r\n      }\r\n    }).then((res) => {\r\n      if(res.code == 0) {\r\n        this.setState({\r\n          dataSource2:res.result.list.map((item,index) => {\r\n            item.key = index\r\n            return item\r\n          }),\r\n          selectedRowKeys:[],\r\n          selectedRows:null,\r\n          pagination: Utils.pagination(res,(current) => {\r\n            _this.params.page = current\r\n            this.request()\r\n          })\r\n        })\r\n      }\r\n    })\r\n  }\r\n  onRowClick = (record,index) => {\r\n    let selectKey = [index]\r\n    Modal.info({\r\n      title: '信息',\r\n      content: `用户名: ${record.userName} 性别: ${record.sex}`\r\n    })\r\n    this.setState({\r\n      selectedRowKeys: selectKey,\r\n      selectedItem: record\r\n    })\r\n  }\r\n  // 多选执行删除动作\r\n  handleDelete = () => {\r\n    let rows = this.state.selectedRows\r\n    let ids = []\r\n    rows.forEach((item) => {\r\n      ids.push(item.id)\r\n    })\r\n    Modal.confirm({\r\n      title:'删除提示',\r\n      content: '确定删除吗？',\r\n      onOk: () => {\r\n        message.success('删除成功')\r\n        this.request()\r\n      }\r\n    })\r\n  }\r\n  render() {\r\n    const columns = [\r\n      {\r\n        title:'id',\r\n        dataIndex: 'id'\r\n      },\r\n      {\r\n        title:'用户名',\r\n        dataIndex: 'userName'\r\n      },\r\n      {\r\n        title:'性别',\r\n        dataIndex: 'sex',\r\n        render(sex){\r\n          return sex === 1 ? '男' : '女'\r\n        }\r\n      },\r\n      {\r\n        title:'状态',\r\n        dataIndex: 'state',\r\n        render(state) {\r\n          let config = {\r\n            \"1\": '初中',\r\n            \"2\": '高中',\r\n            \"3\": '大学',\r\n            \"4\": '硕士',\r\n            \"5\": '博士',\r\n          }\r\n          return config[state]\r\n        }\r\n      },\r\n      {\r\n        title:'爱好',\r\n        dataIndex: 'interest',\r\n        render(interest) {\r\n          let config = {\r\n            \"1\": '爬山',\r\n            \"2\": '篮球',\r\n            \"3\": '足球',\r\n            \"4\": '排球',\r\n            \"5\": '游泳',\r\n            \"6\": '旅行',\r\n            \"7\": '唱歌',\r\n            \"8\": '看书',\r\n          }\r\n          return config[interest]\r\n        }\r\n      },\r\n      {\r\n        title:'生日',\r\n        dataIndex: 'birthday'\r\n      },\r\n      {\r\n        title:'地址',\r\n        dataIndex: 'address'\r\n      },\r\n      {\r\n        title:'早起时间',\r\n        dataIndex: 'time'\r\n      },\r\n    ]\r\n    const {selectedRowKeys} = this.state\r\n    const rowSelection = {\r\n      type: 'radio',\r\n      selectedRowKeys\r\n    }\r\n    const rowCheckSelection = {\r\n      type: 'checkbox',\r\n      selectedRowKeys,\r\n      onChange: (selectedRowKeys,selectedRows) => {\r\n        \r\n        this.setState({\r\n          selectedRowKeys,\r\n          selectedRows\r\n          \r\n        })\r\n      }\r\n    }\r\n    return (\r\n      <div>\r\n        <Card title=\"基础表格\">\r\n          <Table \r\n            bordered\r\n            columns={columns}\r\n            dataSource={this.state.dataSource}\r\n            pagination={false}\r\n          />\r\n        </Card>\r\n        <Card title=\"动态数据渲染表格-Mock\" style={{margin:'10px 0'}}>\r\n          <Table \r\n            bordered\r\n            columns={columns}\r\n            dataSource={this.state.dataSource2}\r\n            pagination={false}\r\n          />\r\n        </Card>\r\n        <Card title=\"Mock-单选\" style={{margin:'10px 0'}}>\r\n          <Table \r\n            bordered\r\n            rowSelection={rowSelection}\r\n            onRow={(record,index) => {\r\n              return {\r\n                onClick: event => {\r\n                  this.onRowClick(record,index)\r\n                }, // 点击行\r\n              };\r\n            }}\r\n            columns={columns}\r\n            dataSource={this.state.dataSource2}\r\n            pagination={false}\r\n          />\r\n        </Card>\r\n        <Card title=\"Mock-复选\" style={{margin:'10px 0'}}>\r\n          <div style={{marginBottom:10}}>\r\n            <Button onClick={this.handleDelete}>删除</Button>\r\n          </div>\r\n          <Table \r\n            bordered\r\n            rowSelection={rowCheckSelection}\r\n            onRow={(record,index) => {\r\n              return {\r\n                onClick: event => {\r\n                  this.onRowClick(record,index)\r\n                }, // 点击行\r\n              };\r\n            }}\r\n            columns={columns}\r\n            dataSource={this.state.dataSource2}\r\n            pagination={false}\r\n          />\r\n        </Card>\r\n        <Card title=\"Mock-表格分页\" style={{ margin: '10px 0' }}>\r\n          <Table\r\n            bordered\r\n            columns={columns}\r\n            dataSource={this.state.dataSource2}\r\n            pagination={this.state.pagination}\r\n          />\r\n        </Card>\r\n      </div>\r\n    )\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}